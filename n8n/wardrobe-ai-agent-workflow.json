{
  "name": "Wardrobe Manager - AI Stylist Agent",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "auth/register",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "webhook-register",
      "name": "Register Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [100, 100],
      "webhookId": "register"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "auth/login",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "webhook-login",
      "name": "Login Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [100, 300],
      "webhookId": "login"
    },
    {
      "parameters": {
        "httpMethod": "GET",
        "path": "auth/me",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "webhook-me",
      "name": "Get Me Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [100, 500],
      "webhookId": "auth-me"
    },
    {
      "parameters": {
        "httpMethod": "=GET",
        "path": "garments",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "webhook-garments-list",
      "name": "List Garments Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [100, 700],
      "webhookId": "garments-list"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "garments",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "webhook-garments-create",
      "name": "Create Garment Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [100, 900],
      "webhookId": "garments-create"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "ai/chat",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "webhook-ai-chat",
      "name": "AI Chat Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [100, 1100],
      "webhookId": "ai-chat"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "ai/suggest-outfit",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "webhook-suggest-outfit",
      "name": "Suggest Outfit Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [100, 1300],
      "webhookId": "suggest-outfit"
    },
    {
      "parameters": {
        "jsCode": "// Register User\nconst body = $input.first().json.body || {};\n\nif (!body.email || !body.password) {\n  return [{ json: { success: false, error: 'Email and password are required' } }];\n}\n\nconst crypto = require('crypto');\nconst hash = crypto.createHash('md5').update(body.email.toLowerCase()).digest('hex');\nconst now = Date.now();\n\nconst user = {\n  id: 'user_' + hash.substring(0, 12),\n  email: body.email,\n  name: body.name || body.email.split('@')[0],\n  gender: body.gender || null,\n  age: null,\n  stylePreferences: [],\n  createdAt: new Date().toISOString()\n};\n\nconst tokenPayload = { id: user.id, email: user.email, iat: now, exp: now + 86400000 };\nconst accessToken = Buffer.from(JSON.stringify(tokenPayload)).toString('base64');\nconst refreshToken = Buffer.from(JSON.stringify({ ...tokenPayload, type: 'refresh', exp: now + 604800000 })).toString('base64');\n\nreturn [{ json: { success: true, user, accessToken, refreshToken } }];"
      },
      "id": "code-register",
      "name": "Process Register",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [340, 100]
    },
    {
      "parameters": {
        "jsCode": "// Login User\nconst body = $input.first().json.body || {};\n\nif (!body.email || !body.password) {\n  return [{ json: { success: false, error: 'Email and password are required' } }];\n}\n\nconst crypto = require('crypto');\nconst hash = crypto.createHash('md5').update(body.email.toLowerCase()).digest('hex');\nconst now = Date.now();\n\nconst user = {\n  id: 'user_' + hash.substring(0, 12),\n  email: body.email,\n  name: body.email.split('@')[0],\n  gender: null,\n  age: null,\n  stylePreferences: []\n};\n\nconst tokenPayload = { id: user.id, email: user.email, iat: now, exp: now + 86400000 };\nconst accessToken = Buffer.from(JSON.stringify(tokenPayload)).toString('base64');\nconst refreshToken = Buffer.from(JSON.stringify({ ...tokenPayload, type: 'refresh', exp: now + 604800000 })).toString('base64');\n\nreturn [{ json: { success: true, user, accessToken, refreshToken } }];"
      },
      "id": "code-login",
      "name": "Process Login",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [340, 300]
    },
    {
      "parameters": {
        "jsCode": "// Get Current User from Token\nconst headers = $input.first().json.headers || {};\nconst authHeader = headers.authorization || headers.Authorization || '';\n\nif (!authHeader.startsWith('Bearer ')) {\n  return [{ json: { success: false, error: 'Unauthorized' } }];\n}\n\ntry {\n  const token = authHeader.replace('Bearer ', '');\n  const decoded = JSON.parse(Buffer.from(token, 'base64').toString('utf8'));\n  \n  if (decoded.exp < Date.now()) {\n    return [{ json: { success: false, error: 'Token expired' } }];\n  }\n  \n  return [{ json: { \n    success: true, \n    id: decoded.id, \n    email: decoded.email, \n    name: decoded.email.split('@')[0],\n    gender: null,\n    age: null,\n    stylePreferences: []\n  } }];\n} catch (e) {\n  return [{ json: { success: false, error: 'Invalid token' } }];\n}"
      },
      "id": "code-me",
      "name": "Process Get Me",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [340, 500]
    },
    {
      "parameters": {
        "jsCode": "// Demo garments - in production this would come from a database\nconst demoGarments = [\n  { id: 'g1', name: '–ë—è–ª–∞ —Ä–∏–∑–∞', category: 'shirt', primaryColor: 'white', season: 'all_year', style: 'business_casual', imageUrl: null },\n  { id: 'g2', name: '–°–∏–Ω–∏ –¥—ä–Ω–∫–∏', category: 'pants', primaryColor: 'blue', season: 'all_year', style: 'casual', imageUrl: null },\n  { id: 'g3', name: '–ß–µ—Ä–Ω–æ —Å–∞–∫–æ', category: 'jacket', primaryColor: 'black', season: 'fall', style: 'formal', imageUrl: null },\n  { id: 'g4', name: '–ë—è–ª–∞ —Ç–µ–Ω–∏—Å–∫–∞', category: 'tshirt', primaryColor: 'white', season: 'summer', style: 'casual', imageUrl: null },\n  { id: 'g5', name: '–ß–µ—Ä–Ω–∏ –ø–∞–Ω—Ç–∞–ª–æ–Ω–∏', category: 'pants', primaryColor: 'black', season: 'all_year', style: 'business', imageUrl: null },\n  { id: 'g6', name: '–°–∏–Ω—è —Ä–∏–∑–∞', category: 'shirt', primaryColor: 'blue', season: 'all_year', style: 'business_casual', imageUrl: null },\n  { id: 'g7', name: '–ë–µ–∂–æ–≤–æ –ø–∞–ª—Ç–æ', category: 'coat', primaryColor: 'beige', season: 'winter', style: 'casual', imageUrl: null },\n  { id: 'g8', name: '–°–∏–≤ –ø—É–ª–æ–≤–µ—Ä', category: 'sweater', primaryColor: 'gray', season: 'fall', style: 'casual', imageUrl: null }\n];\n\nreturn [{ json: { data: demoGarments, total: demoGarments.length } }];"
      },
      "id": "code-list-garments",
      "name": "List Garments",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [340, 700]
    },
    {
      "parameters": {
        "jsCode": "// Create garment (demo - just echo back with ID)\nconst body = $input.first().json.body || {};\n\nconst garment = {\n  id: 'g_' + Date.now(),\n  name: body.name || '–ù–æ–≤–∞ –¥—Ä–µ—Ö–∞',\n  category: body.category || 'other',\n  primaryColor: body.primaryColor || null,\n  secondaryColor: body.secondaryColor || null,\n  season: body.season || 'all_year',\n  style: body.style || 'casual',\n  brand: body.brand || null,\n  size: body.size || null,\n  imageUrl: body.imageUrl || null,\n  status: 'active',\n  createdAt: new Date().toISOString()\n};\n\nreturn [{ json: { success: true, garment } }];"
      },
      "id": "code-create-garment",
      "name": "Create Garment",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [340, 900]
    },
    {
      "parameters": {
        "jsCode": "// Prepare context for AI Agent\nconst body = $input.first().json.body || {};\nconst message = body.message || '';\nconst context = body.context || {};\n\n// Demo garments list for AI context\nconst garments = [\n  { id: 'g1', name: '–ë—è–ª–∞ —Ä–∏–∑–∞', category: 'shirt', color: 'white', style: 'business_casual' },\n  { id: 'g2', name: '–°–∏–Ω–∏ –¥—ä–Ω–∫–∏', category: 'pants', color: 'blue', style: 'casual' },\n  { id: 'g3', name: '–ß–µ—Ä–Ω–æ —Å–∞–∫–æ', category: 'jacket', color: 'black', style: 'formal' },\n  { id: 'g4', name: '–ë—è–ª–∞ —Ç–µ–Ω–∏—Å–∫–∞', category: 'tshirt', color: 'white', style: 'casual' },\n  { id: 'g5', name: '–ß–µ—Ä–Ω–∏ –ø–∞–Ω—Ç–∞–ª–æ–Ω–∏', category: 'pants', color: 'black', style: 'business' },\n  { id: 'g6', name: '–°–∏–Ω—è —Ä–∏–∑–∞', category: 'shirt', color: 'blue', style: 'business_casual' },\n  { id: 'g7', name: '–ë–µ–∂–æ–≤–æ –ø–∞–ª—Ç–æ', category: 'coat', color: 'beige', style: 'casual' },\n  { id: 'g8', name: '–°–∏–≤ –ø—É–ª–æ–≤–µ—Ä', category: 'sweater', color: 'gray', style: 'casual' }\n];\n\nconst garmentsText = garments.map(g => `- ${g.name} (${g.category}, ${g.color}, ${g.style})`).join('\\n');\n\nconst systemPrompt = `–¢–∏ —Å–∏ AI —Å—Ç–∏–ª–∏—Å—Ç - –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω –º–æ–¥–µ–Ω –∫–æ–Ω—Å—É–ª—Ç–∞–Ω—Ç –Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∏ –µ–∑–∏–∫.\n\n–¢–í–û–Ø–¢–ê –†–û–õ–Ø:\n- –ü–æ–º–∞–≥–∞—à –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ –¥–∞ –∏–∑–±–µ—Ä–∞—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏ –¥—Ä–µ—Ö–∏ –∏ —Ç–æ–∞–ª–µ—Ç–∏\n- –î–∞–≤–∞—à —Å—ä–≤–µ—Ç–∏ –∑–∞ –∫–æ–º–±–∏–Ω–∏—Ä–∞–Ω–µ –Ω–∞ —Ü–≤–µ—Ç–æ–≤–µ –∏ —Å—Ç–∏–ª–æ–≤–µ  \n- –°—ä–æ–±—Ä–∞–∑—è–≤–∞—à —Å–µ —Å –ø–æ–≤–æ–¥–∞, —Å–µ–∑–æ–Ω–∞ –∏ –≤—Ä–µ–º–µ—Ç–æ\n- –ü—Ä–µ–¥–ª–∞–≥–∞—à –ø—Ä–∞–∫—Ç–∏—á–Ω–∏ –∏ —Å—Ç–∏–ª–Ω–∏ —Ä–µ—à–µ–Ω–∏—è\n\n–ù–ê–õ–ò–ß–ï–ù –ì–ê–†–î–ï–†–û–ë –ù–ê –ü–û–¢–†–ï–ë–ò–¢–ï–õ–Ø:\n${garmentsText}\n\n–¢–ï–ö–£–©–û –í–†–ï–ú–ï: ${context.weather?.temp || 20}¬∞C, ${context.weather?.description || '—É–º–µ—Ä–µ–Ω–æ'}\n\n–ü–†–ê–í–ò–õ–ê:\n1. –û—Ç–≥–æ–≤–∞—Ä—è–π –í–ò–ù–ê–ì–ò –Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∏ –µ–∑–∏–∫\n2. –ò–∑–ø–æ–ª–∑–≤–∞–π –µ–º–æ–¥–∂–∏—Ç–∞ –∑–∞ –ø–æ-–ø—Ä–∏—è—Ç–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å üëîüëóüé®\n3. –î–∞–≤–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏ —Å—ä–≤–µ—Ç–∏ —Å –ø—Ä–∏–º–µ—Ä–∏ –æ—Ç –≥–∞—Ä–¥–µ—Ä–æ–±–∞\n4. –ö–æ–≥–∞—Ç–æ –ø—Ä–µ–¥–ª–∞–≥–∞—à —Ç–æ–∞–ª–µ—Ç, –ø–æ—Å–æ—á–≤–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏ –¥—Ä–µ—Ö–∏ –ø–æ –∏–º–µ\n5. –û–±—è—Å–Ω—è–≤–∞–π –ó–ê–©–û –¥–∞–¥–µ–Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∏\n6. –°—ä–æ–±—Ä–∞–∑—è–≤–∞–π —Å–µ —Å –≤—Ä–µ–º–µ—Ç–æ –∏ —Å–µ–∑–æ–Ω–∞\n7. –ë—ä–¥–∏ –ø—Ä–∏—è—Ç–µ–ª—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –Ω–∞—Å—ä—Ä—á–∞–≤–∞—â`;\n\nreturn [{\n  json: {\n    systemPrompt,\n    userMessage: message,\n    garments,\n    context\n  }\n}];"
      },
      "id": "code-prepare-ai-context",
      "name": "Prepare AI Context",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [340, 1100]
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "ai-agent",
      "name": "AI Stylist Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [580, 1100]
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "={{ $json.systemPrompt }}"
        }
      },
      "id": "openai-chat-model",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [580, 1320],
      "credentials": {
        "openAiApi": {
          "id": "YOUR_OPENAI_CREDENTIAL_ID",
          "name": "OpenAI"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Format AI Agent Response\nconst input = $input.first().json;\n\nlet message = '';\n\n// Extract response from agent output\nif (input.output) {\n  message = input.output;\n} else if (input.text) {\n  message = input.text;\n} else if (typeof input === 'string') {\n  message = input;\n} else {\n  message = `–ó–¥—Ä–∞–≤–µ–π—Ç–µ! üëã –ê–∑ —Å—ä–º –≤–∞—à–∏—è—Ç AI —Å—Ç–∏–ª–∏—Å—Ç.\n\n–ú–æ–≥–∞ –¥–∞ –≤–∏ –ø–æ–º–æ–≥–Ω–∞ —Å:\n‚Ä¢ üëî –ò–∑–±–æ—Ä –Ω–∞ —Ç–æ–∞–ª–µ—Ç –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –ø–æ–≤–æ–¥–∏\n‚Ä¢ üé® –ö–æ–º–±–∏–Ω–∏—Ä–∞–Ω–µ –Ω–∞ —Ü–≤–µ—Ç–æ–≤–µ –∏ —Å—Ç–∏–ª–æ–≤–µ\n‚Ä¢ üå§Ô∏è –°—ä–æ–±—Ä–∞–∑—è–≤–∞–Ω–µ —Å –≤—Ä–µ–º–µ—Ç–æ\n‚Ä¢ üíº –ü—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω dress code\n‚Ä¢ üéâ –°–ø–µ—Ü–∏–∞–ª–Ω–∏ —Å—ä–±–∏—Ç–∏—è\n\n–ö–∞–∂–µ—Ç–µ –º–∏ –∑–∞ –∫–∞–∫—ä–≤ –ø–æ–≤–æ–¥ —Ç—ä—Ä—Å–∏—Ç–µ –¥—Ä–µ—Ö–∏ –∏–ª–∏ –∫–∞–∫—ä–≤ –≤—ä–ø—Ä–æ—Å –∏–º–∞—Ç–µ!`;\n}\n\nreturn [{\n  json: {\n    success: true,\n    message: message,\n    sessionId: 'session_' + Date.now()\n  }\n}];"
      },
      "id": "code-format-ai-response",
      "name": "Format AI Response",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [820, 1100]
    },
    {
      "parameters": {
        "jsCode": "// Suggest outfit based on occasion\nconst body = $input.first().json.body || {};\nconst occasion = body.occasion || 'casual';\nconst weather = body.weather || { temp: 20, description: '—É–º–µ—Ä–µ–Ω–æ' };\n\n// Demo suggestions based on occasion\nconst suggestions = {\n  business: {\n    garmentIds: ['g1', 'g5', 'g3'],\n    explanation: '–ó–∞ –±–∏–∑–Ω–µ—Å —Å—Ä–µ—â–∞ –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞–º –∫–ª–∞—Å–∏—á–µ—Å–∫–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è: –±—è–ª–∞ —Ä–∏–∑–∞, —á–µ—Ä–Ω–∏ –ø–∞–Ω—Ç–∞–ª–æ–Ω–∏ –∏ —á–µ—Ä–Ω–æ —Å–∞–∫–æ. –¢–æ–≤–∞ –µ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω –∏ –µ–ª–µ–≥–∞–Ω—Ç–µ–Ω look.',\n    occasionFit: 'perfect'\n  },\n  casual: {\n    garmentIds: ['g4', 'g2'],\n    explanation: '–ó–∞ casual –∏–∑–ª–∏–∑–∞–Ω–µ: –±—è–ª–∞ —Ç–µ–Ω–∏—Å–∫–∞ —Å—ä—Å —Å–∏–Ω–∏ –¥—ä–Ω–∫–∏ –µ –∫–ª–∞—Å–∏—á–µ—Å–∫–∞ –∏ —É–¥–æ–±–Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è. –ü–æ–¥—Ö–æ–¥—è—â–∞ –∑–∞ —É–∏–∫–µ–Ω–¥ —Ä–∞–∑—Ö–æ–¥–∫–∞ –∏–ª–∏ —Å—Ä–µ—â–∞ —Å –ø—Ä–∏—è—Ç–µ–ª–∏.',\n    occasionFit: 'perfect'\n  },\n  formal: {\n    garmentIds: ['g6', 'g5', 'g3'],\n    explanation: '–ó–∞ –æ—Ñ–∏—Ü–∏–∞–ª–Ω–æ —Å—ä–±–∏—Ç–∏–µ: —Å–∏–Ω—è —Ä–∏–∑–∞ —Å —á–µ—Ä–Ω–∏ –ø–∞–Ω—Ç–∞–ª–æ–Ω–∏ –∏ —á–µ—Ä–Ω–æ —Å–∞–∫–æ. –ï–ª–µ–≥–∞–Ω—Ç–µ–Ω –∏ —Å—Ç–∏–ª–µ–Ω –∏–∑–±–æ—Ä.',\n    occasionFit: 'perfect'\n  },\n  date: {\n    garmentIds: ['g6', 'g2'],\n    explanation: '–ó–∞ —Ä–æ–º–∞–Ω—Ç–∏—á–Ω–∞ –≤–µ—á–µ—Ä—è: —Å–∏–Ω—è —Ä–∏–∑–∞ —Å—ä—Å —Å–∏–Ω–∏ –¥—ä–Ω–∫–∏ –µ smart casual look - –Ω–µ –µ –ø—Ä–µ–∫–∞–ª–µ–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª–µ–Ω, –Ω–æ –ø–æ–∫–∞–∑–≤–∞, —á–µ —Å—Ç–µ –ø–æ–ª–æ–∂–∏–ª–∏ —É—Å–∏–ª–∏—è.',\n    occasionFit: 'good'\n  }\n};\n\nconst suggestion = suggestions[occasion] || suggestions.casual;\n\nreturn [{\n  json: {\n    success: true,\n    suggestions: [suggestion],\n    weather: weather\n  }\n}];"
      },
      "id": "code-suggest-outfit",
      "name": "Suggest Outfit Logic",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [340, 1300]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ $json }}",
        "options": {
          "responseHeaders": {
            "entries": [
              { "name": "Access-Control-Allow-Origin", "value": "*" },
              { "name": "Access-Control-Allow-Methods", "value": "GET, POST, PUT, DELETE, OPTIONS" },
              { "name": "Access-Control-Allow-Headers", "value": "Content-Type, Authorization" }
            ]
          }
        }
      },
      "id": "respond-register",
      "name": "Respond Register",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [580, 100]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ $json }}",
        "options": {
          "responseHeaders": {
            "entries": [
              { "name": "Access-Control-Allow-Origin", "value": "*" },
              { "name": "Access-Control-Allow-Methods", "value": "GET, POST, PUT, DELETE, OPTIONS" },
              { "name": "Access-Control-Allow-Headers", "value": "Content-Type, Authorization" }
            ]
          }
        }
      },
      "id": "respond-login",
      "name": "Respond Login",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [580, 300]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ $json }}",
        "options": {
          "responseHeaders": {
            "entries": [
              { "name": "Access-Control-Allow-Origin", "value": "*" },
              { "name": "Access-Control-Allow-Methods", "value": "GET, POST, PUT, DELETE, OPTIONS" },
              { "name": "Access-Control-Allow-Headers", "value": "Content-Type, Authorization" }
            ]
          }
        }
      },
      "id": "respond-me",
      "name": "Respond Me",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [580, 500]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ $json }}",
        "options": {
          "responseHeaders": {
            "entries": [
              { "name": "Access-Control-Allow-Origin", "value": "*" },
              { "name": "Access-Control-Allow-Methods", "value": "GET, POST, PUT, DELETE, OPTIONS" },
              { "name": "Access-Control-Allow-Headers", "value": "Content-Type, Authorization" }
            ]
          }
        }
      },
      "id": "respond-garments-list",
      "name": "Respond Garments List",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [580, 700]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ $json }}",
        "options": {
          "responseHeaders": {
            "entries": [
              { "name": "Access-Control-Allow-Origin", "value": "*" },
              { "name": "Access-Control-Allow-Methods", "value": "GET, POST, PUT, DELETE, OPTIONS" },
              { "name": "Access-Control-Allow-Headers", "value": "Content-Type, Authorization" }
            ]
          }
        }
      },
      "id": "respond-garments-create",
      "name": "Respond Garments Create",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [580, 900]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ $json }}",
        "options": {
          "responseHeaders": {
            "entries": [
              { "name": "Access-Control-Allow-Origin", "value": "*" },
              { "name": "Access-Control-Allow-Methods", "value": "GET, POST, PUT, DELETE, OPTIONS" },
              { "name": "Access-Control-Allow-Headers", "value": "Content-Type, Authorization" }
            ]
          }
        }
      },
      "id": "respond-ai-chat",
      "name": "Respond AI Chat",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [1060, 1100]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ $json }}",
        "options": {
          "responseHeaders": {
            "entries": [
              { "name": "Access-Control-Allow-Origin", "value": "*" },
              { "name": "Access-Control-Allow-Methods", "value": "GET, POST, PUT, DELETE, OPTIONS" },
              { "name": "Access-Control-Allow-Headers", "value": "Content-Type, Authorization" }
            ]
          }
        }
      },
      "id": "respond-suggest-outfit",
      "name": "Respond Suggest Outfit",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [580, 1300]
    }
  ],
  "connections": {
    "Register Webhook": {
      "main": [[{ "node": "Process Register", "type": "main", "index": 0 }]]
    },
    "Process Register": {
      "main": [[{ "node": "Respond Register", "type": "main", "index": 0 }]]
    },
    "Login Webhook": {
      "main": [[{ "node": "Process Login", "type": "main", "index": 0 }]]
    },
    "Process Login": {
      "main": [[{ "node": "Respond Login", "type": "main", "index": 0 }]]
    },
    "Get Me Webhook": {
      "main": [[{ "node": "Process Get Me", "type": "main", "index": 0 }]]
    },
    "Process Get Me": {
      "main": [[{ "node": "Respond Me", "type": "main", "index": 0 }]]
    },
    "List Garments Webhook": {
      "main": [[{ "node": "List Garments", "type": "main", "index": 0 }]]
    },
    "List Garments": {
      "main": [[{ "node": "Respond Garments List", "type": "main", "index": 0 }]]
    },
    "Create Garment Webhook": {
      "main": [[{ "node": "Create Garment", "type": "main", "index": 0 }]]
    },
    "Create Garment": {
      "main": [[{ "node": "Respond Garments Create", "type": "main", "index": 0 }]]
    },
    "AI Chat Webhook": {
      "main": [[{ "node": "Prepare AI Context", "type": "main", "index": 0 }]]
    },
    "Prepare AI Context": {
      "main": [[{ "node": "AI Stylist Agent", "type": "main", "index": 0 }]]
    },
    "AI Stylist Agent": {
      "main": [[{ "node": "Format AI Response", "type": "main", "index": 0 }]]
    },
    "Format AI Response": {
      "main": [[{ "node": "Respond AI Chat", "type": "main", "index": 0 }]]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [[{ "node": "AI Stylist Agent", "type": "ai_languageModel", "index": 0 }]]
    },
    "Suggest Outfit Webhook": {
      "main": [[{ "node": "Suggest Outfit Logic", "type": "main", "index": 0 }]]
    },
    "Suggest Outfit Logic": {
      "main": [[{ "node": "Respond Suggest Outfit", "type": "main", "index": 0 }]]
    }
  },
  "settings": { "executionOrder": "v1" },
  "staticData": null,
  "tags": [],
  "triggerCount": 7,
  "updatedAt": "2025-12-04T16:00:00.000Z",
  "versionId": "1"
}
